# lark

## 获取知识空间节点信息

### 请求

| 基本                        |                                                                |
| --------------------------- | -------------------------------------------------------------- |
| HTTP URL                    | https://open.larkoffice.com/open-apis/wiki/v2/spaces/get_node  |
| HTTP Method                 | GET                                                            |
| 接口频率限制 712            | 100 次/分钟                                                    |
| 支持的应用类型              | 自建应用 商店应用                                              |
| 权限要求 ① 开启任一权限即可 | Om 查看知识空间节点信息 OT 查看、编辑和管理知识库 O 查看知识库 |

### 请求头

```json
{
  "Authorization": "Bearer {access_token}",
  "Content-Type": "application/json; charset=utf-8"
}
```

### 查询参数

| 参数名称 | 必须 | 类型   | 描述                                                             |
| -------- | ---- | ------ | ---------------------------------------------------------------- |
| token    | 是   | string | 知识空间节点 token                                               |
| obj_type | 否   | string | 知识空间节点类型，可选值有：doc,docx,sheet,mindnote,bitable,wiki |

### 响应

```json
{
  "code": 0,
  "data": {
    "node": {
      "creator": "ou_2a70be4b672a7248b50f481ea6994b44",
      "has_child": false,
      "node_create_time": "1763390247",
      "node_creator": "ou_2a70be4b672a7248b50f481ea6994b44",
      "node_token": "HyKOw87PHivqfIkIlzXcJu5An1f",
      "node_type": "origin",
      "obj_create_time": "1763390247",
      "obj_edit_time": "1764737700",
      "obj_token": "E4Q5dudHKoHfJBxA7J0liAJEgmb",
      "obj_type": "docx",
      "origin_node_token": "HyKOw87PHivqfIkIlzXcJu5An1f",
      "origin_space_id": "7540300278621290524",
      "owner": "ou_2a70be4b672a7248b50f481ea6994b44",
      "parent_node_token": "",
      "space_id": "7540300278621290524",
      "title": "LIVE C 视角下的竞拍——技术分享"
    }
  },
  "msg": "success"
}
```

- **code** (int)：错误码，非 0 表示失败
- **msg** (string)：错误描述
- **data** (-)：-
- **node** (node)：节点信息
- **space_id** (string)：知识空间 ID。获取方式参考知识库概述。
- **node_token** (string)：知识库节点 token，如果 URL 链接中 token 前为 wiki，该 token 为知识库的节点 token。
- **obj_token** (string)：节点的实际云文档的 token，如果 URL 链接中 token 前为 docx、base、sheets 等非 wiki 类型，则说明该 token 是当前云文档的实际 token。如果要获取或编辑节点内容，需要使用此 token 调用对应的接口。可根据 obj_type 判断属于哪种文档类型。
- **obj_type** (string)：文档类型，对于快捷方式，该字段是对应的实体的 obj_type。  
  可选值：doc（旧版文档）、sheet（表格）、mindnote（思维导图）、bitable（多维表格）、file（文件）
- **parent_node_token** (string)：父节点 token。若当前节点为一级节点，父节点 token 为空。
- **node_type** (string)：节点类型。  
  可选值：origin（实体）、shortcut（快捷方式）
- **origin_node_token** (string)：快捷方式对应的实体 node_token，当节点为快捷方式时，该值不为空。
- **origin_space_id** (string)：快捷方式对应的实体所在的 space id
- **has_child** (boolean)：是否有子节点
- **title** (string)：文档标题
- **obj_create_time** (string)：文档创建时间
- **obj_edit_time** (string)：文档最近编辑时间
- **node_create_time** (string)：节点创建时间
- **creator** (string)：文档创建者
- **owner** (string)：文档所有者
- **node_creator** (string)：节点创建者

## 获取文档纯文本内容

### 请求

- **基本**
- **HTTP URL**  
  https://open.larkoffice.com/open-apis/docx/v1/documents/:document_id/raw_content
- **HTTP Method**  
  GET
- **接口频率限制**  
  特殊频控
- **支持的应用类型**
  - 自建应用
  - 商店应用
- **权限要求**（开启任一权限即可）
  - 创建及编辑新版文档
  - 查看新版文档

### 请求头

```json
{
  "Authorization": "Bearer {access_token}",
  "Content-Type": "application/json; charset=utf-8"
}
```

### 请求参数

document_id

- **必须**: 是
- 注意：
  - 如果链接中包含 docx，则链接中的 token 为 document_id
  - 如果链接中为 wiki，则需要获取知识空间节点信息中拿到 obj_token 作为 document_id

### 响应

- **code**（int）：错误码，非 0 表示失败
- **msg**（string）：错误描述
- **data**（-）：预留数据字段
- **content**（string）：文档纯文本

## 将 Markdown/HTML 格式的内容写入到文档

这里分为三个步骤：

若要将 Markdown/HTML 格式的内容写入到文档，需依次执行以下操作：

1. 调用创建文档接口创建一篇类型为 docx 的文档（若目标文档已存在，则无需此步骤）。
2. 调用转换为文档块接口将 Markdown/HTML 格式的内容转换为文档块。
3. 调用创建嵌套块接口将步骤二中返回的块批量插入到目标文档中。

在上述接口调用过程中需注意以下事项：

将带表格的 Markdown/HTML 格式的内容转换为文档块后，在调用创建嵌套块接口批量插入块到文档前，需先去除表格（Table）块中的 merge_info 字段。由于当前 merge_info 为只读属性，传入该字段会引发报错。

将包含图片的 Markdown/HTML 格式的内容转换为文档块，并调用创建嵌套块接口将图片（Image）块插入到文档后，需调用上传图片素材接口，以 Image BlockID 作为 parent_node 上传素材，接着调用更新块或批量更新块接口，指定 replace_image 操作，将图片素材 ID 设置到对应的 Image Block。

当转换后的块数量过多时，需分批调用创建嵌套块接口，单次调用创建嵌套块接口最多可插入 1000 个块。

### 相关接口

1. 创建文档接口

request：

url：https://open.larkoffice.com/open-apis/docx/v1/documents

method：post

请求头：

```json
{
  "Authorization": "Bearer {access_token}",
  "Content-Type": "application/json; charset=utf-8"
}
```

请求体：

```markdown
| 名称         | 类型   | 必填 | 描述                                                                                                                                                                                        | 示例值                        |
| ------------ | ------ | ---- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------- |
| folder_token | string | 否   | 指定文档所在文件夹的 Token。不传或传空表示根目录。了解如何获取文件夹 Token，参考如何获取云文档资源相关 Token。提示：若应用使用的是 tenant_access_token 权限，此处仅可指定应用创建的文件夹。 | "fldcnqquW1svRIYVT2Np6Iabcef" |
| title        | string | 否   | 文档标题，只支持纯文本。数据校验规则：长度范围 1 ～ 800 字符。                                                                                                                              | "一篇新的文档"                |
```

响应

```json
{
  "code": 0,
  "msg": "success",
  "data": {
    "document": {
      "document_id": "doxcni6mOy7jLRWbEylaKKC7K88",
      "revision_id": 1,
      "title": "undefined"
    }
  }
}
```

2. 转换为文档块接口

url: https://open.larkoffice.com/open-apis/docx/v1/documents/blocks/convert
method: post

请求头：

```json
{
  "Authorization": "Bearer {access_token}",
  "Content-Type": "application/json; charset=utf-8"
}
```

请求体

content_type: string，必填，内容类型，支持 markdown 和 html

content：string，必填，Markdown/HTML 格式的内容

响应体：

```json
{
  "code": 0,
  "msg": "success",
  "data": {
    "first_level_block_ids": [
      "6f70483b-def6-4459-96ff-509b1de9f2ca",
      "4a0cc20d-1dbd-47af-9ca8-f71027b26468",
      "8da57e4f-d73e-44b4-9389-f45ed740f97f",
      "13b42d6c-8480-465f-91da-3b5c864c7af9",
      "bdb98e5b-dd35-4691-9c69-9a831182fd16",
      "0e8f483a-8c5a-4e96-b3d1-8f05731f8a66",
      "6b06836c-07a1-48b8-8859-466f6a11afc7",
      "a7c82c2c-22e9-42f6-b823-9fc86c230e5e",
      "14805dfc-2b6d-48c9-8317-7f8f5d603178",
      "e4faf5af-264b-408e-a480-22d19b4b13cf"
    ],
    "blocks": [
      {
        "block_id": "row19f995d8-60b9-4945-b1dc-26bd448387c7cold95431db-2529-41b1-bae9-76f10070e6cc",
        "revision_id": 0,
        "parent_id": "",
        "children": ["5a0d669a-d34b-4a7f-92f6-ff13c9ee8dc1"],
        "table_cell": {},
        "block_type": 32
      },
      {
        "block_id": "249b0d7b-cbdc-4423-b2b5-4a4eebddf055",
        "revision_id": 0,
        "parent_id": "",
        "text": {
          "style": {
            "folded": false,
            "align": 1
          },
          "elements": [
            {
              "text_run": {
                "content": "Seafood Street",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            }
          ]
        },
        "block_type": 2
      },
      {
        "block_id": "8da57e4f-d73e-44b4-9389-f45ed740f97f",
        "revision_id": 0,
        "parent_id": "",
        "heading1": {
          "style": {
            "folded": false,
            "align": 1
          },
          "elements": [
            {
              "text_run": {
                "content": "Heading1",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            }
          ]
        },
        "block_type": 3
      },
      {
        "block_id": "14805dfc-2b6d-48c9-8317-7f8f5d603178",
        "revision_id": 0,
        "parent_id": "",
        "bullet": {
          "style": {
            "folded": false,
            "align": 1
          },
          "elements": [
            {
              "text_run": {
                "content": "bullet2",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            }
          ]
        },
        "block_type": 12
      },
      {
        "block_id": "5a0d669a-d34b-4a7f-92f6-ff13c9ee8dc1",
        "revision_id": 0,
        "parent_id": "",
        "text": {
          "style": {
            "folded": false,
            "align": 1
          },
          "elements": [
            {
              "text_run": {
                "content": "Features",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            }
          ]
        },
        "block_type": 2
      },
      {
        "block_id": "e4faf5af-264b-408e-a480-22d19b4b13cf",
        "revision_id": 0,
        "parent_id": "",
        "children": [
          "row19f995d8-60b9-4945-b1dc-26bd448387c7col686c3c95-b2e6-43c4-95fe-ae47d1e824a0",
          "row19f995d8-60b9-4945-b1dc-26bd448387c7cold95431db-2529-41b1-bae9-76f10070e6cc",
          "row19f995d8-60b9-4945-b1dc-26bd448387c7col3f3ffe92-8af3-40ca-ae96-e77b652245d4",
          "row1686630c-d569-4c8a-aacd-b06bc6f976cacol686c3c95-b2e6-43c4-95fe-ae47d1e824a0",
          "row1686630c-d569-4c8a-aacd-b06bc6f976cacold95431db-2529-41b1-bae9-76f10070e6cc",
          "row1686630c-d569-4c8a-aacd-b06bc6f976cacol3f3ffe92-8af3-40ca-ae96-e77b652245d4"
        ],
        "table": {
          "cells": [
            "row19f995d8-60b9-4945-b1dc-26bd448387c7col686c3c95-b2e6-43c4-95fe-ae47d1e824a0",
            "row19f995d8-60b9-4945-b1dc-26bd448387c7cold95431db-2529-41b1-bae9-76f10070e6cc",
            "row19f995d8-60b9-4945-b1dc-26bd448387c7col3f3ffe92-8af3-40ca-ae96-e77b652245d4",
            "row1686630c-d569-4c8a-aacd-b06bc6f976cacol686c3c95-b2e6-43c4-95fe-ae47d1e824a0",
            "row1686630c-d569-4c8a-aacd-b06bc6f976cacold95431db-2529-41b1-bae9-76f10070e6cc",
            "row1686630c-d569-4c8a-aacd-b06bc6f976cacol3f3ffe92-8af3-40ca-ae96-e77b652245d4"
          ],
          "property": {
            "row_size": 2,
            "column_size": 3,
            "column_width": [244, 244, 244],
            "merge_info": [
              {
                "row_span": 1,
                "col_span": 1
              },
              {
                "row_span": 1,
                "col_span": 1
              },
              {
                "row_span": 1,
                "col_span": 1
              },
              {
                "row_span": 1,
                "col_span": 1
              },
              {
                "row_span": 1,
                "col_span": 1
              },
              {
                "row_span": 1,
                "col_span": 1
              }
            ],
            "header_row": false,
            "header_column": false
          }
        },
        "block_type": 31
      },
      {
        "block_id": "row1686630c-d569-4c8a-aacd-b06bc6f976cacol686c3c95-b2e6-43c4-95fe-ae47d1e824a0",
        "revision_id": 0,
        "parent_id": "",
        "children": ["249b0d7b-cbdc-4423-b2b5-4a4eebddf055"],
        "table_cell": {},
        "block_type": 32
      },
      {
        "block_id": "row1686630c-d569-4c8a-aacd-b06bc6f976cacol3f3ffe92-8af3-40ca-ae96-e77b652245d4",
        "revision_id": 0,
        "parent_id": "",
        "children": ["f03c2e18-8eb0-469c-b96f-55793253a27d"],
        "table_cell": {},
        "block_type": 32
      },
      {
        "block_id": "6b06836c-07a1-48b8-8859-466f6a11afc7",
        "revision_id": 0,
        "parent_id": "",
        "ordered": {
          "style": {
            "folded": false,
            "align": 1,
            "sequence": "auto"
          },
          "elements": [
            {
              "text_run": {
                "content": "ordered2",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            }
          ]
        },
        "block_type": 13
      },
      {
        "block_id": "a7c82c2c-22e9-42f6-b823-9fc86c230e5e",
        "revision_id": 0,
        "parent_id": "",
        "bullet": {
          "style": {
            "folded": false,
            "align": 1
          },
          "elements": [
            {
              "text_run": {
                "content": "bullet1",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            }
          ]
        },
        "block_type": 12
      },
      {
        "block_id": "1111cdb3-716b-46d8-aabd-1b4dd98d216e",
        "revision_id": 0,
        "parent_id": "",
        "text": {
          "style": {
            "folded": false,
            "align": 1
          },
          "elements": [
            {
              "text_run": {
                "content": "Location",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            }
          ]
        },
        "block_type": 2
      },
      {
        "block_id": "row1686630c-d569-4c8a-aacd-b06bc6f976cacold95431db-2529-41b1-bae9-76f10070e6cc",
        "revision_id": 0,
        "parent_id": "",
        "children": ["d4f37b8d-4fdc-4f69-82ea-38e548e0c0ca"],
        "table_cell": {},
        "block_type": 32
      },
      {
        "block_id": "row19f995d8-60b9-4945-b1dc-26bd448387c7col3f3ffe92-8af3-40ca-ae96-e77b652245d4",
        "revision_id": 0,
        "parent_id": "",
        "children": ["046ab1bd-0e18-4f2d-b91a-f19adc445d09"],
        "table_cell": {},
        "block_type": 32
      },
      {
        "block_id": "d4f37b8d-4fdc-4f69-82ea-38e548e0c0ca",
        "revision_id": 0,
        "parent_id": "",
        "text": {
          "style": {
            "folded": false,
            "align": 1
          },
          "elements": [
            {
              "text_run": {
                "content": "Seafood Market",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            }
          ]
        },
        "block_type": 2
      },
      {
        "block_id": "0e8f483a-8c5a-4e96-b3d1-8f05731f8a66",
        "revision_id": 0,
        "parent_id": "",
        "ordered": {
          "style": {
            "folded": false,
            "align": 1,
            "sequence": "1"
          },
          "elements": [
            {
              "text_run": {
                "content": "ordered1",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            }
          ]
        },
        "block_type": 13
      },
      {
        "block_id": "046ab1bd-0e18-4f2d-b91a-f19adc445d09",
        "revision_id": 0,
        "parent_id": "",
        "text": {
          "style": {
            "folded": false,
            "align": 1
          },
          "elements": [
            {
              "text_run": {
                "content": "Cuisine",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            }
          ]
        },
        "block_type": 2
      },
      {
        "block_id": "13b42d6c-8480-465f-91da-3b5c864c7af9",
        "revision_id": 0,
        "parent_id": "",
        "code": {
          "style": {
            "wrap": false
          },
          "elements": [
            {
              "text_run": {
                "content": "  hello word",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            }
          ]
        },
        "block_type": 14
      },
      {
        "block_id": "row19f995d8-60b9-4945-b1dc-26bd448387c7col686c3c95-b2e6-43c4-95fe-ae47d1e824a0",
        "revision_id": 0,
        "parent_id": "",
        "children": ["1111cdb3-716b-46d8-aabd-1b4dd98d216e"],
        "table_cell": {},
        "block_type": 32
      },
      {
        "block_id": "6f70483b-def6-4459-96ff-509b1de9f2ca",
        "revision_id": 0,
        "parent_id": "",
        "text": {
          "style": {
            "folded": false,
            "align": 1
          },
          "elements": [
            {
              "text_run": {
                "content": "Text ",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            },
            {
              "text_run": {
                "content": "Bold",
                "text_element_style": {
                  "bold": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            },
            {
              "text_run": {
                "content": " ",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            },
            {
              "text_run": {
                "content": "Italic",
                "text_element_style": {
                  "bold": false,
                  "italic": true,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            },
            {
              "text_run": {
                "content": " ",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            },
            {
              "text_run": {
                "content": "Strikethrough",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": true,
                  "underline": false,
                  "inline_code": false
                }
              }
            },
            {
              "text_run": {
                "content": " ",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            },
            {
              "text_run": {
                "content": "inline code",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": true
                }
              }
            },
            {
              "text_run": {
                "content": " Hyperlink: ",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            },
            {
              "text_run": {
                "content": "Feishu Open Platform",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false,
                  "link": {
                    "url": "https%3A%2F%2Fopen.feishu.cn"
                  }
                }
              }
            }
          ]
        },
        "block_type": 2
      },
      {
        "block_id": "4a0cc20d-1dbd-47af-9ca8-f71027b26468",
        "revision_id": 0,
        "parent_id": "",
        "image": {
          "width": 240,
          "height": 240,
          "token": ""
        },
        "block_type": 27
      },
      {
        "block_id": "f03c2e18-8eb0-469c-b96f-55793253a27d",
        "revision_id": 0,
        "parent_id": "",
        "text": {
          "style": {
            "folded": false,
            "align": 1
          },
          "elements": [
            {
              "text_run": {
                "content": "Fresh Seafood, Lobsters, Crabs, scallops",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            }
          ]
        },
        "block_type": 2
      },
      {
        "block_id": "bdb98e5b-dd35-4691-9c69-9a831182fd16",
        "revision_id": 0,
        "parent_id": "",
        "quote": {
          "style": {
            "folded": false,
            "align": 1
          },
          "elements": [
            {
              "text_run": {
                "content": "quote",
                "text_element_style": {
                  "bold": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false,
                  "inline_code": false
                }
              }
            }
          ]
        },
        "block_type": 15
      }
    ],
    "block_id_to_image_urls": [
      {
        "block_id": "4a0cc20d-1dbd-47af-9ca8-f71027b26468",
        "image_url": "https://sf3-scmcdn-cn.feishucdn.com/obj/feishu-static/lark/open/website/share-logo.png"
      }
    ]
  }
}
```

3. 创建嵌套块接口

url:https://open.larkoffice.com/open-apis/docx/v1/documents/:document_id/blocks/:block_id/descendant

method:post

请求头：

```json
{
  "Authorization": "Bearer {access_token}",
  "Content-Type": "application/json; charset=utf-8"
}
```

查询参数

```markdown
| 名称                 | 类型   | 必填 | 描述                                                                                                                                                                                                   | 示例值                                 |
| -------------------- | ------ | ---- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------- |
| document_revision_id | int    | 否   | 要操作的文档版本。<br>-1 表示文档最新版本。<br>文档创建后，版本为 1。<br>需确保拥有文档的编辑权限。<br>可通过“获取文档基本信息”接口获取最新 revision_id。<br>数据校验规则：最小值 -1。<br>默认值：-1。 | -1                                     |
| client_token         | string | 否   | 操作的唯一标识，UUIDv4 格式。<br>与接口返回值的 client_token 对应，用于幂等更新。<br>空值表示发起新请求；非空值表示幂等更新。                                                                          | "8aac2291-bc9e-4b12-a162-b3cf15bb06bd" |
```

请求体示例

```json
{
  "index": 0,
  "children_id": ["headingid_1", "table_id_1"],
  "descendants": [
    {
      "block_id": "headingid_1",
      "block_type": 3,
      "heading1": {
        "elements": [{ "text_run": { "content": "简单表格" } }]
      },
      "children": []
    },
    {
      "block_id": "table_id_1",
      "block_type": 31,
      "table": {
        "property": {
          "row_size": 1,
          "column_size": 2
        }
      },
      "children": ["table_cell1", "table_cell2"]
    },
    {
      "block_id": "table_cell1",
      "block_type": 32,
      "table_cell": {},
      "children": ["table_cell1_child1", "table_cell1_child2"]
    },
    {
      "block_id": "table_cell2",
      "block_type": 32,
      "table_cell": {},
      "children": ["table_cell2_child"]
    },
    {
      "block_id": "table_cell1_child1",
      "block_type": 13,
      "ordered": {
        "elements": [{ "text_run": { "content": "list 1.1" } }]
      },
      "children": []
    },
    {
      "block_id": "table_cell1_child2",
      "block_type": 13,
      "ordered": {
        "elements": [{ "text_run": { "content": "list 1.2" } }]
      },
      "children": []
    },
    {
      "block_id": "table_cell2_child",
      "block_type": 2,
      "text": {
        "elements": [{ "text_run": { "content": "" } }]
      },
      "children": []
    }
  ]
}
```

响应体示例

```json
{
  "code": 0,
  "data": {
    "block_id_relations": [
      {
        "block_id": "doxcnYO8gV2Y9j3WBgYbau56T1e",
        "temporary_block_id": "table_cell2_child"
      },
      {
        "block_id": "doxcn8B9TT6vA8tIZyJ2R3LWVSh",
        "temporary_block_id": "heading1_1"
      },
      {
        "block_id": "doxcnQ9oNRPWjJkMIwx9NcQqLub",
        "temporary_block_id": "table_id_1"
      },
      {
        "block_id": "doxcnrWk8gGdxKcNXi2IPDkbhkh",
        "temporary_block_id": "table_cell1"
      },
      {
        "block_id": "doxcnQfknNLbaAvUFRn8QY7iHde",
        "temporary_block_id": "table_cell2"
      },
      {
        "block_id": "doxcnxwrnwJDZLxDm9StPACNw2c",
        "temporary_block_id": "table_cell1_child1"
      },
      {
        "block_id": "doxcnoAh2KHArsQQgllUuZ0WuTe",
        "temporary_block_id": "table_cell1_child2"
      }
    ],
    "children": [
      {
        "block_id": "doxcn8B9TT6vA8tIZyJ2R3LWVSh",
        "block_type": 3,
        "heading1": {
          "elements": [
            {
              "text_run": {
                "content": "简单表格",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "DrjDdxrdXorZ9lxkOfvcTJwabcef"
      },
      {
        "block_id": "doxcnQ9oNRPWjJkMIwx9NcQqLub",
        "block_type": 31,
        "children": [
          "doxcnrWk8gGdxKcNXi2IPDkbhkh",
          "doxcnQfknNLbaAvUFRn8QY7iHde"
        ],
        "parent_id": "DrjDdxrdXorZ9lxkOfvcTJwabcef",
        "table": {
          "cells": [
            "doxcnrWk8gGdxKcNXi2IPDkbhkh",
            "doxcnQfknNLbaAvUFRn8QY7iHde"
          ],
          "property": {
            "column_size": 2,
            "column_width": [100, 100],
            "merge_info": [
              {
                "col_span": 1,
                "row_span": 1
              },
              {
                "col_span": 1,
                "row_span": 1
              }
            ],
            "row_size": 1
          }
        }
      }
    ],
    "client_token": "6332efd0-4d39-42b4-933e-21a5ddb855e4",
    "document_revision_id": 2
  },
  "msg": "success"
}
```

### 上传素材接口

url：https://open.larkoffice.com/open-apis/drive/v1/medias/upload_all

method：post

请求头：

```json
{
  "Authorization": "Bearer {access_token}",
  "Content-Type": "application/json; charset=utf-8"
}
```

请求体：

```markdown
| 名称        | 类型   | 必填 | 描述（含校验规则/可选值）                                                                     | 示例值                                              |
| ----------- | ------ | ---- | --------------------------------------------------------------------------------------------- | --------------------------------------------------- |
| file_name   | string | 是   | 要上传的素材名称；最大长度 250 字符。                                                         | demo.jpeg                                           |
| parent_type | string | 是   | 上传点类型；可选值：<br>doc_image / docx_image / sheet_image / doc_file / docx_file。         | docx_image                                          |
| parent_node | string | 是   | 上传点 token（目标云文档 token）。                                                            | —                                                   |
| size        | int    | 是   | 文件大小（字节）；最大值 20 971 520。                                                         | 1024                                                |
| checksum    | string | 否   | 文件的 Adler-32 校验和。                                                                      | 3248270248                                          |
| extra       | string | 否   | 需指定素材所在云文档 token 时填写，格式：<br>{"drive_route_token":"素材所在云文档的 token"}。 | {"drive_route_token":"doxcnXgNGAtaAraIRVeCfmabcef"} |
| file        | file   | 是   | 文件的二进制内容。                                                                            | file binary                                         |
```

响应体：

```json
{
  "code": 0,
  "msg": "success",
  "data": {
    "file_token": "boxcnrHpsg1QDqXAAAyachabcef" // 素材文件的 token。
  }
}
```
